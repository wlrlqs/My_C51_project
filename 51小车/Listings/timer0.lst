C51 COMPILER V9.57.0.0   TIMER0                                                            06/27/2022 03:12:54 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE TIMER0
OBJECT MODULE PLACED IN .\Objects\timer0.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE timer0.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\ti
                    -mer0.lst) TABS(2) OBJECT(.\Objects\timer0.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "car.h"
   3          void Timer0Init()    //å®šæ—¶å™¨åˆå§‹åŒ–å‡½æ•°
   4          {
   5   1        TMOD|=0X01;//é€‰æ‹©ä¸ºå®šæ—¶å™¨0æ¨¡å¼ï¼Œå·¥ä½œæ–¹å¼1ï¼Œä»…ç”¨TR0æ‰“å¼€å¯åŠ¨ã€‚
   6   1      
   7   1        TH0=0XFC; //ç»™å®šæ—¶å™¨èµ‹åˆå€¼ï¼Œå®šæ—¶1ms
   8   1        TL0=0X18; 
   9   1        ET0=1;//æ‰“å¼€å®šæ—¶å™¨0ä¸­æ–­å…è®¸
  10   1        EA=1;//æ‰“å¼€æ€»ä¸­æ–­
  11   1        TR0=1;//æ‰“å¼€å®šæ—¶å™¨     
  12   1      }
  13          
  14          extern unsigned char Left_Speed_Ratio;
  15          extern unsigned char Right_Speed_Ratio;
  16          unsigned int time=0; 
  17          extern unsigned char pwm_val_left;
  18          extern unsigned char pwm_val_right;
  19          
  20          void timer0()interrupt 1 using 2  //å®šæ—¶å™¨ä¸­æ–­å‡½æ•°ï¼Œæ­¤å¤„é…ç½®ä¸º1msäº§ç”Ÿä¸€æ¬¡ä¸­æ–­ï¼Œå¯¹PWMç
             -š„è¾“å‡ºè¿›è¡Œæ§åˆ¶
  21          { 
  22   1        TH0=0XFC; //ç»™å®šæ—¶å™¨èµ‹åˆå€¼ï¼Œå®šæ—¶1ms
  23   1        TL0=0X18;
  24   1        time++; 
  25   1        pwm_val_left++; 
  26   1        pwm_val_right++; 
  27   1        pwm_out_left_moto(); 
  28   1        pwm_out_right_moto(); 
  29   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     64    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      2    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
