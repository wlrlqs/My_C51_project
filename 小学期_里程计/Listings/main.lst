C51 COMPILER V9.60.0.0   MAIN                                                              06/30/2023 01:45:46 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: C:\Keil_v5_c51\C51\BIN\C51.EXE Application\main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT
                    -(.\Listings\main.lst) TABS(2) OBJECT(.\Objects\main.obj)

line level    source

   1          /****************************************************
   2          2023°ѧСѧ
   3          γƣ⳵Ʒϵͳ
   4          ҪĿ꣺һ⳵Ʒϵͳܵĵλ仯
   5                          ݵλ״̬Լеʱʾ
   6                          ɿȶϵͳĸҪͬʱӲĺ
   7                          ߵ·Ԫɹʵʼʵ壻ɿġ
   8          ҪҪ1 һǰλ仯ݰ´ֱͬ12341
             -..
   9                                  λֱͬתٱ仯λֵʾԹܣ
  10                              2 ݵλֵԼʱڣʵʱʾԹϣ
  11                              3 ݶܣͣť£ֱͣתֹ䡣
  12                              4 㹦ܣʱ̱ʾΪ0
  13                                  ӲҪ
  14          ص㣺5303B
  15          *****************************************************/
  16          
  17          /****************************************************
  18          йܣ
  19                    1.ͨ-12MHz 9600ʣʱ١
  20                    2.TinyRTOS INT_CLOCK = 1000 cyclesΪ12T / ϵͳƵ(12MHz) * 1000 = 1ms
  21                      ϵͳСΪ1msTIMESHARING = 3ʱƬֻΪ3ms
  22                      ϵͳʽϸߣConf_tnyá
  23                    3.RTOSƵͰƵʣϲȣϵͳԴʡ
  24                    4.LEDˮϵͳʾԼʱʾλ״̬ܡʾǰٶȵλȡ
  25                    5.OLED12864ĻãʾֽԼˢºͰʾ
  26                    6.ɨ衣
  27                    7.ãloopѭܣƷƵ
  28                    8.ƿܽ
  29          *****************************************************/
  30          
  31          /****************************************************
  32          ԣGUILIN UNIVERSITY OF ELECTRONIC TECHNOLOGY --- EVOLUTION_TEAM --- GUET_ROBOT  
  33                ֵӿƼѧ --- Evolutionս --- GUET 
  34          ߣګ|2100300317
  35          *****************************************************/
  36          
  37          #include <rtx51tny.h>
  38          #include <reg52.h>
  39          #include <stdio.h>
  40          #include "main.h"
  41          
  42          /****************************************************
  43            State_checking(void) _task_ 0
  44              ܣ0ϵͳ
  45          ڲ
  46            ֵ
  47          Ӧ÷Χϵͳ
  48              ע
  49          *****************************************************/
  50          void State_checking(void) _task_ 0 {
  51   1        EA = 0;//ʼ
  52   1        EX0 = 1; 
  53   1        IT0 = 1;
C51 COMPILER V9.60.0.0   MAIN                                                              06/30/2023 01:45:46 PAGE 2   

  54   1        uart_init();
  55   1        //Timer1Init();
  56   1        OLED_Init();
  57   1        EA = 1;
  58   1        LED = 0xFE;
  59   1        os_create_task (1);//
  60   1        //os_create_task (2);
  61   1        os_create_task (3);
  62   1         while (1){
  63   2           oled();//oled
  64   2         }
  65   1      }
  66          
  67          /****************************************************
  68            LED_CTRL (void) _task_ 1
  69              ܣ1
  70          ڲ
  71            ֵ
  72          Ӧ÷Χϵͳ
  73              ע
  74          *****************************************************/
  75          void LED_CTRL (void) _task_ 1 {
  76   1          while(1){
  77   2            if(display_mode == 3){
  78   3              motor_control();//
  79   3            }else{
  80   3              led();//ledƿ
  81   3            }
  82   2          }
  83   1      }
  84          
  85          /****************************************************
  86            void MOTOR_CTRL (void) _task_ 2
  87              ܣ2
  88          ڲ
  89            ֵ
  90          Ӧ÷Χϵͳ
  91              ע
  92          *****************************************************/
  93          void MOTOR_CTRL (void) _task_ 2 {
  94   1          while (1){
  95   2            if(display_mode == 3){
  96   3              motor_control();//
  97   3            }else{
  98   3              os_wait2(K_TMO,255);//ͷԴ
  99   3            }
 100   2          }
 101   1      }
 102          
 103          /****************************************************
 104            MODE_CTRL (void) _task_ 3
 105              ܣ3
 106          ڲ
 107            ֵ
 108          Ӧ÷Χϵͳ
 109              ע
 110          *****************************************************/
 111          void MODE_CTRL (void) _task_ 3 {
 112   1        while(1){
 113   2          os_wait2(K_TMO,250);//ͨƵʣԼԴ
 114   2          motor_speed_choose();//ٶѡ
 115   2          single_key_scan();//ɨ
C51 COMPILER V9.60.0.0   MAIN                                                              06/30/2023 01:45:46 PAGE 3   

 116   2        }
 117   1      }
 118          
 119          //void timer1() interrupt 3{
 120          //  motor_speed_fbd();
 121          //  TF1 = 0;    //TF1־
 122          //}


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     87    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     15    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
